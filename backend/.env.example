# =============================================================================
# Dashdig Backend Environment Variables
# =============================================================================
#
# Copy this file to .env for local development:
#   cp .env.example .env
#
# For Railway deployment, set these in Railway Dashboard:
#   Settings â†’ Variables
#
# See backend/README.md for detailed setup instructions
#
# =============================================================================

# -----------------------------------------------------------------------------
# Server Configuration (REQUIRED)
# -----------------------------------------------------------------------------

# Server port (default: 5001)
PORT=5001

# Node environment: development | production | test
NODE_ENV=development

# Base URL for short links (REQUIRED)
# Production: https://dashdig.com
# Local: http://localhost:5001
BASE_URL=https://dashdig.com

# Frontend URL for CORS (REQUIRED)
# Production: https://dashdig.com
# Local: http://localhost:3000
FRONTEND_URL=https://dashdig.com

# -----------------------------------------------------------------------------
# Database Configuration (REQUIRED)
# -----------------------------------------------------------------------------

# MongoDB connection string (REQUIRED)
# Format: mongodb+srv://username:password@cluster.mongodb.net/dashdig
# Get from: https://cloud.mongodb.com
MONGODB_URI=mongodb://localhost:27017/dashdig

# Redis URL (OPTIONAL - for caching)
# Format: redis://username:password@host:port
# Get from: https://redis.com or Railway Redis addon
# Leave empty to disable caching (graceful degradation)
REDIS_URL=redis://localhost:6379

# -----------------------------------------------------------------------------
# Authentication (REQUIRED)
# -----------------------------------------------------------------------------

# JWT secret for token signing (REQUIRED)
# Generate with: openssl rand -base64 64
# Keep this secret and never commit to git!
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production

# -----------------------------------------------------------------------------
# AI Services (REQUIRED for slug generation)
# -----------------------------------------------------------------------------

# Anthropic Claude API Key (PRIMARY - for humanizing URLs)
# Get from: https://console.anthropic.com/
# Required for AI-powered slug generation
ANTHROPIC_API_KEY=sk-ant-api03-xxxxxxxxxxxxx

# OpenAI API Key (FALLBACK - optional)
# Get from: https://platform.openai.com/api-keys
# Used as backup if Anthropic fails
OPENAI_API_KEY=sk-xxxxxxxxxxxxx

# -----------------------------------------------------------------------------
# Email Configuration (REQUIRED for auth emails)
# -----------------------------------------------------------------------------

# Email service: smtp | resend
# Use 'smtp' for custom SMTP or 'resend' for Resend API

# --- Option 1: SMTP (Gmail, Zoho, etc.) ---

# SMTP server host
SMTP_HOST=smtp.gmail.com

# SMTP server port (usually 587 for TLS, 465 for SSL)
SMTP_PORT=587

# Use secure connection (true for port 465, false for port 587)
SMTP_SECURE=false

# SMTP username (usually your email)
SMTP_USER=your-email@gmail.com

# SMTP password or app password
# Gmail: Generate app password at https://myaccount.google.com/apppasswords
# Zoho: Use your account password
SMTP_PASS=your-smtp-password-or-app-password

# From email address
EMAIL_FROM=noreply@dashdig.com

# --- Option 2: Resend API (Alternative to SMTP) ---

# Resend API Key (if using Resend instead of SMTP)
# Get from: https://resend.com/api-keys
# RESEND_API_KEY=re_xxxxxxxxxxxxx

# -----------------------------------------------------------------------------
# SMS Configuration (OPTIONAL - for phone verification)
# -----------------------------------------------------------------------------

# Twilio Account SID
# Get from: https://console.twilio.com/
TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxx

# Twilio Auth Token
TWILIO_AUTH_TOKEN=xxxxxxxxxxxxx

# Twilio Phone Number (with country code, e.g., +14155551234)
TWILIO_PHONE_NUMBER=+1234567890

# -----------------------------------------------------------------------------
# Payment Processing (OPTIONAL - for premium features)
# -----------------------------------------------------------------------------

# Stripe Publishable Key (for frontend)
# Get from: https://dashboard.stripe.com/apikeys
STRIPE_PUBLISHABLE_KEY=pk_test_xxxxxxxxxxxxx

# Stripe Secret Key (for backend)
STRIPE_SECRET_KEY=sk_test_xxxxxxxxxxxxx

# Stripe Webhook Secret (for webhook verification)
# Get from: https://dashboard.stripe.com/webhooks
STRIPE_WEBHOOK_SECRET=whsec_xxxxxxxxxxxxx

# -----------------------------------------------------------------------------
# Optional: Monitoring & Analytics
# -----------------------------------------------------------------------------

# Sentry DSN for error tracking
# SENTRY_DSN=https://xxxxx@xxxxx.ingest.sentry.io/xxxxx

# LogRocket App ID for session replay
# LOGROCKET_APP_ID=xxxxx/dashdig

# New Relic License Key for APM
# NEW_RELIC_LICENSE_KEY=xxxxxxxxxxxxx

# -----------------------------------------------------------------------------
# Optional: Rate Limiting
# -----------------------------------------------------------------------------

# Rate limit window (in minutes)
# RATE_LIMIT_WINDOW=15

# Max requests per window
# RATE_LIMIT_MAX_REQUESTS=100

# -----------------------------------------------------------------------------
# Optional: Feature Flags
# -----------------------------------------------------------------------------

# Enable AI insights feature
# ENABLE_AI_INSIGHTS=true

# Enable QR code generation
# ENABLE_QR_CODES=true

# Enable custom domains
# ENABLE_CUSTOM_DOMAINS=false

# Enable bulk operations
# ENABLE_BULK_OPERATIONS=true

# -----------------------------------------------------------------------------
# Optional: Security
# -----------------------------------------------------------------------------

# CORS allowed origins (comma-separated)
# CORS_ORIGINS=https://dashdig.com,https://www.dashdig.com

# Session secret for cookie signing
# SESSION_SECRET=your-session-secret-change-this

# Cookie domain
# COOKIE_DOMAIN=.dashdig.com

# -----------------------------------------------------------------------------
# Development Only
# -----------------------------------------------------------------------------

# Enable debug logging
# DEBUG=true

# Disable authentication (for testing)
# DISABLE_AUTH=false

# Mock external services
# MOCK_SERVICES=false
